<!DOCTYPE html>

<html>
    <head>
        <title>TPOP-Fragments | Virtual Light Table</title>
        <link rel="stylesheet" type="text/css" href="./tpop.css"/>
        <script src="../js/libs/jquery-3.6.0.min.js"></script>
        <script>window.$ = window.jQuery = require('../js/libs/jquery-3.6.0.min.js');</script>
    </head>
    <body>
        <div id="sidebar" class="area">
            <div>
                <div id="version">Data Version: <span id="data-ctime"></span></br> (last download: <span id="data-mtime"></span>)</div>
                <div id="reload-json">
                    <img src="../imgs/symbol_reload.png">
                </div>
            </div>
            <div id="filter-section" class="sidebar-section">
                <hr>
                <div class="title">Filters</div>
                <div id="select-folder" class="button no-select">
                    <img src="../imgs/symbol_folder.png"/>
                    <div class="button-label">Select Folder</div>
                </div>
                <div id="filter-add" class="button no-select">
                    <img src="../imgs/symbol_plus_zoom.png"/>
                    <div class="button-label">Add Filter</div>
                </div>
                <div id="filter-list"></div>
            </div>
            <div id="suggestion-section" class="sidebar-section">
                <hr>
                <div class="title">Settings for Automatic Suggestions</div>
                <div>Select one (or more) fragments and adjust settings to query for most similar objects regarding given features.</div>
                <div class="weight">
                    <div>Triplet Space</div>
                    <input type="checkbox" class="ml-checkbox" id="ml-check-snn">
                    <input type="range" id='ml-snn' class='ml-weight' min="0" max="6" value="0" disabled>
                    <label id="ml-label-snn" class="invisible"></label>
                </div>
                <div class="weight">
                    <div>Colour Space</div>
                    <input type="checkbox" class="ml-checkbox" id="ml-check-rgb">
                    <input type="range" id='ml-rgb' class='ml-weight' min="0" max="6" value="0" disabled>
                    <label id="ml-label-rgb" class="invisible"></label>
                </div>
                <div id="ml-toggle-area">
                    <label>min Δ</label>
                    <label class="switch">
                        <input type="checkbox" id="ml-toggle">
                        <span class="slider"></span>
                    </label>
                    <label>avg Δ</label>
                </div>
                <div class="button inactive" id="ml-calculate">Calculate Distances Δ</div>
                <div class="button" id="ml-reset">Reset Sorting</div>
            </div>
        </div>
        <div id="left-resize-slider" class="resize-slider no-select"></div>
        <div id="main-area" class="area no-select">
            <div id="tpop-tile-view" class="no-select">
                <div class="rotated-title">TPOP Fragments</div>
                <div id="tpop-left-arrow" class="no-select browse-arrow inactive"><</div>
                <div id="tile-view"></div>
                <div id="tpop-right-arrow" class="no-select browse-arrow">></div>
            </div>
            <div id="loading-tile-view" class="no-select">
                <div class="rotated-title">Selected</div>
                <div id="loading-left-arrow" class="no-select browse-arrow inactive"><</div>
                <div id="loading-view"></div>
                <div id="loading-right-arrow" class="no-select browse-arrow inactive">></div>
            </div>
            <div id="load-area" class="no-select">
                <div id="cancel" class="button">
                    <img/>
                    <div class="button-text">Cancel</div>
                </div>
                <div id="load" class="button inactive">
                    <img/>
                    <div id="load-text" class="button-text">Select fragments</div>
                </div>
                <div id="flip-grid" class="">
                    <img src="../imgs/symbol_vertical_flip.png">
                </div>
            </div>
        </div>
        <div id="right-resize-slider" class="resize-slider no-select"></div>

        <div id="detail-view" class="area">
            <div class="title">Detail Information</div>
            <div id="detail-name" class="subtitle"></div>
            <a id="detail-link" title="Open in TPOP (new window)" target="_blank" href="#"><img class="detail-symbol hidden" src="../imgs/symbol_extern.png"/></a>
            <!-- <div id="detail-find" title="Find in fragment grid"> -->
            <img id="detail-find" class="detail-symbol hidden" title="Find page in fragment grid" src="../imgs/symbol_location.png"/>
            <!-- </div> -->
            <div id="detail-page-warning" class="warning hidden">Fragment not contained in filtered fragment list</div>
            <div class="subtitle hidden">Recto
                <a id="detail-recto-magnify" href="#" target="_blank">
                    <img class="magnifier detail-symbol" title="Enlarge image" id="detail-recto-magnify" src="../imgs/symbol_magnifier.png"/>
                </a>
            </div>
            <img id="detail-recto" src="" class="detail-image"/>
            <div class="subtitle hidden">Verso
                <a id="detail-verso-magnify" href='#' target="_blank">
                    <img class="magnifier detail-symbol" title="Enlarge image" src="../imgs/symbol_magnifier.png"/>
                </a>
            </div>
            <img id="detail-verso" src="" class="detail-image"/>
            <div id="detail-meta">
                <div id="detail-joins" class="hidden">
                    <div class="subtitle">Registered Joins</div>
                    <div id="detail-add-joins" class="no-select">Add All</div>
                    <div id="detail-remove-joins" class="no-select">Remove All</div>
                    <div id="detail-joins-list"></div>
                </div>
            </div>
        </div>

        <div id="filter-overlay" class="no-select flex-vert">
            <div class="no-select flex-hor">
                <div class="title">Select a New Filter Criterion:</div>
            </div>
            <div id="filter-attribute-container" class="no-select flex-hor">
                <div class="no-select filter-container">
                    <div class="filter-title">Filter Attribute</div>
                    <div class="no-select flex-hor">
                        <input id="filter-attribute" class="filter-input" placeholder="Query Attribute:">
                        <div id="filter-attribute-list" class="hidden"></div>
                        <div id="filter-attribute-dropdown"></div>
                    </div>
                </div>
                <div id="filter-operator-container" class="no-select hidden filter-container">
                    <div class="filter-title">Operator</div>
                    <div class="no-select flex-hor">
                        <div id="filter-operator-wheel">
                            <div>contains</div>
                            <div>contains not</div>
                            <div>empty</div>
                            <div>not empty</div>
                        </div>
                    </div>
                </div>
                <div id="filter-value-container" class="no-select hidden filter-container">
                    <div class="filter-title">Filter Value</div>
                    <div class="no-select flex-hor">
                        <input id="filter-value" class="filter-input" placeholder="Query Input:">
                    </div>
                </div>
            </div>
            <div class="no-select flex-hor">
                <div id="filter-add-button" class="">Apply Filter</div>
            </div>
            <div id="filter-close">x</div>
        </div>

        <!--
        <div id="filter-overlay" class="no-select">
            <div class="title">Add a new filter:</div>
            <form id="filter-form">
                <div class="autocomplete">
                    <input id="filter-attribute" type="text" placeholder="Attribute:"></input>
                </div>
                <select id="filter-operator"></select>
                <input id="filter-input">
                <div id="filter-add-button">Add</div>
                <div id="filter-close">x</div>
            </form>
        </div>
        -->

        <script src="./tpop.js"></script>
    </body>
</html>